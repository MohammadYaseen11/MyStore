<section class="cart">
  <h1>سلة المشتريات</h1>

  <p *ngIf="!items.length">السلة فارغة حالياً.</p>

  <table *ngIf="items.length">
    <thead>
      <tr>
        <th>المنتج</th>
        <th>السعر</th>
        <th>الكمية</th>
        <th>الإجمالي</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of items">
        <td>{{ item.product.name }}</td>
        <td>{{ item.product.price | currency : "USD" }}</td>
        <td>
          <input
            type="number"
            min="1"
            [value]="item.quantity"
            (change)="updateQuantity(item, $any($event.target).value)"
          />
        </td>
        <td>{{ item.product.price * item.quantity | currency : "USD" }}</td>
        <td>
          <button type="button" (click)="remove(item)">حذف</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="cart-summary" *ngIf="items.length">
    <p>
      الإجمالي الكلي: <strong>{{ total | currency : "USD" }}</strong>
    </p>
    <button type="button" (click)="checkout()">إتمام الشراء</button>
  </div>
</section>
